<div class="min-h-screen bg-gray-50">
  <!-- Header Section -->
  <header class="bg-white shadow-sm border-b border-gray-200">
    <div class="container mx-auto px-4 py-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">My Trips</h1>
          <p class="mt-1 text-sm text-gray-600">Plan and manage your travel adventures</p>
        </div>
        <div>
          <%= link_to "New Trip", new_trip_path, class: "inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500", data: { turbo: false } %>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    <!-- Filters and Search -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8">
      <%= form_with url: trips_path, method: :get, local: true, class: "space-y-4 md:space-y-0 md:flex md:items-end md:gap-4" do |f| %>
        <!-- Destination Search -->
        <div class="flex-1">
          <%= f.label :destination, "Search by destination", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.text_field :destination, 
              value: params[:destination], 
              placeholder: "e.g., Paris, Tokyo, New York...", 
              class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" %>
        </div>

        <!-- Sort Order -->
        <div class="w-full md:w-48">
          <%= f.label :sort_order, "Sort by date", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.select :sort_order, 
              options_for_select([["Ascending", "asc"], ["Descending", "desc"]], params[:sort_order] || "asc"),
              {},
              class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" %>
        </div>

        <!-- Per Page -->
        <div class="w-full md:w-32">
          <%= f.label :per_page, "Per page", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.select :per_page, 
              options_for_select([["10", 10], ["20", 20], ["50", 50], ["100", 100]], params[:per_page] || 20),
              {},
              class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" %>
        </div>

        <!-- Submit Buttons -->
        <div class="flex gap-2">
          <%= f.submit "Apply Filters", class: "px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition cursor-pointer" %>
          <%= link_to "Clear", trips_path, class: "px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition" %>
        </div>
      <% end %>
    </div>

    <% if @trips.any? %>
      <!-- Trips Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <% @trips.each do |trip| %>
          <%= render partial: "trip_card", locals: { trip: trip } %>
        <% end %>
      </div>

      <!-- Pagination -->
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
          <!-- Pagination Info -->
          <div class="text-sm text-gray-700">
            Showing <span class="font-medium"><%= @pagy.from %></span> to <span class="font-medium"><%= @pagy.to %></span> of <span class="font-medium"><%= @pagy.count %></span> trips
          </div>

          <!-- Pagination Controls -->
          <div class="flex items-center gap-2">
            <%== pagy_nav(@pagy, 
              link_extra: "class='px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition'",
              item_name: "page"
            ) %>
          </div>
        </div>
      </div>
    <% else %>
      <!-- Empty State -->
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center">
        <svg class="mx-auto h-24 w-24 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        
        <h3 class="mt-6 text-xl font-semibold text-gray-900">No trips found</h3>
        
        <% if params[:destination].present? %>
          <p class="mt-2 text-gray-600">No trips match your search criteria. Try adjusting your filters.</p>
          <div class="mt-6">
            <%= link_to "Clear Filters", trips_path, class: "inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition" %>
          </div>
        <% else %>
          <p class="mt-2 text-gray-600">Start planning your next adventure by creating your first trip.</p>
          <div class="mt-6">
            <%= link_to "Create Your First Trip", new_trip_path, class: "inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition", data: { turbo: false } %>
          </div>
        <% end %>
      </div>
    <% end %>
  </main>
</div>
